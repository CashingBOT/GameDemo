{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Spawn.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Spawn extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    enemy1: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    enemy2: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    enemy3: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    lifeItem: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    powerItem: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    bombItem: cc.Prefab = null;\r\n\r\n    @property(cc.Node)\r\n    player: cc.Node = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    private enemyList = []\r\n    private isStart = false\r\n    private enemy1Pool = new cc.NodePool('Enemy1')\r\n    private enemy2Pool = new cc.NodePool('Enemy2')\r\n    private enemy3Pool = new cc.NodePool('Enemy3')\r\n\r\n    onLoad() {\r\n        let initCount = 10;\r\n        let enemy1Pool = new cc.NodePool('Enemy1');\r\n        for (let i = 0; i < initCount; ++i) {\r\n            let enemy1 = cc.instantiate(this.enemy1);\r\n            enemy1Pool.put(enemy1);\r\n        }\r\n        let enemy2Pool = new cc.NodePool('Enemy2');\r\n        for (let i = 0; i < initCount; ++i) {\r\n            let enemy2 = cc.instantiate(this.enemy2);\r\n            enemy2Pool.put(enemy2);\r\n        }\r\n        let enemy3Pool = new cc.NodePool('Enemy3');\r\n        for (let i = 0; i < initCount; ++i) {\r\n            let enemy3 = cc.instantiate(this.enemy3);\r\n            enemy3Pool.put(enemy3);\r\n        }\r\n        this.node.on('enemyDestory', this.deletEnemyFromArr, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        this.node.off('enemyDestory', this.deletEnemyFromArr, this);\r\n    }\r\n\r\n    deletEnemyFromArr(event) {\r\n        for (let index = this.enemyList.length - 1; index >= 0; index--) {\r\n            const element = this.enemyList[index];\r\n            if (element == event.getUserData()) {\r\n                this.enemyList.splice(index, 1)\r\n                break\r\n            }\r\n        }\r\n\r\n        let script = event.getUserData()\r\n        if (script.type == 1) {\r\n            this.enemy1Pool.put(script.node);\r\n        }\r\n        if (script.type == 2) {\r\n            this.enemy2Pool.put(script.node);\r\n        }\r\n        if (script.type == 3) {\r\n            this.enemy3Pool.put(script.node);\r\n        }\r\n    }\r\n\r\n    boom() {\r\n        for (let index = 0; index < this.enemyList.length; index++) {\r\n            const element = this.enemyList[index];\r\n            if (element) {\r\n                element.dead()\r\n                // if (element.type == 1) {\r\n                //     this.enemy1Pool.put(element.node);\r\n                // }\r\n                // if (element.type == 2) {\r\n                //     this.enemy2Pool.put(element.node);\r\n                // }\r\n                // if (element.type == 3) {\r\n                //     this.enemy2Pool.put(element.node);\r\n                // }\r\n            }\r\n        }\r\n        this.enemyList = []\r\n        this.node.getChildByName('Bomb').active = false\r\n    }\r\n\r\n    gameInit() {\r\n        if (!this.isStart) { return; };\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(() => {\r\n            this.spawnNewEnemy1();\r\n        }), cc.delayTime(3.5))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(() => {\r\n            this.spawnNewEnemy1();\r\n        }), cc.delayTime(4.5))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(() => {\r\n            this.spawnNewEnemy1();\r\n        }), cc.delayTime(4.5))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(45), cc.callFunc(() => {\r\n            this.spawnNewEnemy2();\r\n        }))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(10), cc.callFunc(() => {\r\n            this.spawnNewEnemy3();\r\n        }))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(30), cc.callFunc(() => {\r\n            this.spawnNewLifeItem();\r\n        }))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(() => {\r\n            this.spawnNewPowerItem();\r\n        }), cc.delayTime(40))))\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(60), cc.callFunc(() => {\r\n            this.spawnNewBombItem();\r\n        }))))\r\n    }\r\n\r\n    // start () {}\r\n\r\n    update(dt) {\r\n    }\r\n\r\n    gameStart() {\r\n        this.isStart = true;\r\n        this.gameInit();\r\n    }\r\n\r\n    stopped() {\r\n        this.isStart = false;\r\n        this.gameInit();\r\n    }\r\n\r\n    addEnemyToArr(enemyScript, str?, node?) {\r\n\r\n        this.enemyList.push(enemyScript)\r\n    }\r\n\r\n    spawnNewEnemy1() {\r\n        let newEnemy1 = null;\r\n        if (this.enemy1Pool.size() > 0) {\r\n            newEnemy1 = this.enemy1Pool.get();\r\n        }\r\n        else {\r\n            newEnemy1 = cc.instantiate(this.enemy1);\r\n        }\r\n        this.node.addChild(newEnemy1);\r\n        newEnemy1.setPosition(this.getNewEnemy1Position());\r\n        newEnemy1.getComponent('Enemy1').emitter()\r\n        this.addEnemyToArr(newEnemy1.getComponent('Enemy1'))\r\n    }\r\n\r\n    getNewEnemy2Position() {\r\n        var randX = 0;\r\n        var maxX = this.node.width / 2.5;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        return cc.v2(0, cc.winSize.height);\r\n    }\r\n\r\n    spawnNewEnemy2() {\r\n        let newEnemy2 = null;\r\n        if (this.enemy2Pool.size() > 0) {\r\n            newEnemy2 = this.enemy2Pool.get();\r\n        }\r\n        else {\r\n            newEnemy2 = cc.instantiate(this.enemy2);\r\n        }\r\n        this.node.addChild(newEnemy2);\r\n        newEnemy2.setPosition(this.getNewEnemy2Position());\r\n        newEnemy2.getComponent('Enemy2').emitter()\r\n        this.addEnemyToArr(newEnemy2.getComponent('Enemy2'))\r\n    }\r\n\r\n    getNewEnemy1Position() {\r\n        var randX = 0;\r\n        var maxX = this.node.width / 2.5;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        return cc.v2(randX, cc.winSize.height);\r\n    }\r\n\r\n    spawnNewEnemy3() {\r\n        let newEnemy3 = null;\r\n        if (this.enemy3Pool.size() > 0) {\r\n            newEnemy3 = this.enemy3Pool.get();\r\n        }\r\n        else {\r\n            newEnemy3 = cc.instantiate(this.enemy3);\r\n        }\r\n        this.node.addChild(newEnemy3);\r\n        newEnemy3.setPosition(this.getNewEnemy3Position());\r\n        newEnemy3.getComponent('Enemy3').emitter()\r\n        this.addEnemyToArr(newEnemy3.getComponent('Enemy3'))\r\n    }\r\n\r\n    getNewEnemy3Position() {\r\n        var randX = 0;\r\n        var maxX = this.node.width / 2.5;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        return cc.v2(randX, cc.winSize.height);\r\n    }\r\n\r\n    spawnNewLifeItem() {\r\n        var newLifeItem = cc.instantiate(this.lifeItem);\r\n        this.node.addChild(newLifeItem);\r\n        newLifeItem.setPosition(this.getNewLifeItemPosition());\r\n    }\r\n\r\n    getNewPowerItemPosition() {\r\n        var randX = 0;\r\n        var maxX = this.node.width / 2.5;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        return cc.v2(randX, cc.winSize.height);\r\n    }\r\n\r\n    spawnNewPowerItem() {\r\n        var newPowerItem = cc.instantiate(this.powerItem);\r\n        this.node.addChild(newPowerItem);\r\n        newPowerItem.setPosition(this.getNewPowerItemPosition());\r\n    }\r\n\r\n    getNewLifeItemPosition() {\r\n        var randX = 0;\r\n        var maxX = this.node.width / 2.5;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        return cc.v2(randX, cc.winSize.height);\r\n    }\r\n\r\n    spawnNewBombItem() {\r\n        var newBombItem = cc.instantiate(this.bombItem);\r\n        this.node.addChild(newBombItem);\r\n        newBombItem.setPosition(this.getNewBombItemPosition());\r\n    }\r\n\r\n    getNewBombItemPosition() {\r\n        var randX = 0;\r\n        var maxX = this.node.width / 2.5;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        return cc.v2(randX, cc.winSize.height);\r\n    }\r\n\r\n    onCollisionStay(other, self) {\r\n        self.life--;\r\n        if (other.node.name == \"PlayerBullets\") {\r\n            other.node.Destroy();\r\n        }\r\n    }\r\n}\r\n"]}