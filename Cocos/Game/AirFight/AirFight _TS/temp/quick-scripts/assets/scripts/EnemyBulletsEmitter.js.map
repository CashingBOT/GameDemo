{"version":3,"sources":["EnemyBulletsEmitter.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;AAE7F,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAiD,uCAAY;IAD7D;QAAA,qEAuCC;QAnCG,YAAM,GAAc,IAAI,CAAC;QAGzB,WAAK,GAAG,IAAI,CAAC;QAGb,UAAI,GAAG,CAAC,CAAC;QAGT,YAAM,GAAG,CAAC,CAAC;;IA0Bf,CAAC;IAxBG,wBAAwB;IAExB,oCAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,YAAY;IAEZ,eAAe;IAER,qCAAO,GAAd;QACI,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QACrC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;QAC5B,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3B,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC;QACxB,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACjC,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACjD,IAAI,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;QACrC,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;QACtD,IAAI,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC;QACjC,IAAI,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAC/C,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAlCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACK;IAGzB;QADC,QAAQ,EAAE;sDACE;IAGb;QADC,QAAQ,EAAE;qDACF;IAGT;QADC,QAAQ,EAAE;uDACA;IAZM,mBAAmB;QADvC,OAAO;OACa,mBAAmB,CAsCvC;IAAD,0BAAC;CAtCD,AAsCC,CAtCgD,EAAE,CAAC,SAAS,GAsC5D;kBAtCoB,mBAAmB","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class EnemyBulletsEmitter extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    prefab: cc.Prefab = null;\r\n\r\n    @property()\r\n    speed = 1000;\r\n\r\n    @property()\r\n    rate = 1;\r\n\r\n    @property()\r\n    offset = 0;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.schedule(this.emitter, this.rate);\r\n    }\r\n\r\n    //start() {}\r\n\r\n    // update(dt){}\r\n\r\n    public emitter() {\r\n        var bullet = cc.instantiate(this.prefab);\r\n        bullet.position = this.node.position;\r\n        bullet.y = this.node.y - 20;\r\n        bullet.x = this.node.x + 1;\r\n        bullet.x += this.offset;\r\n        bullet.parent = this.node.parent;\r\n        let distance = (cc.winSize.height + this.node.y);\r\n        let duration = distance / this.speed;\r\n        let moveBy = cc.moveBy(duration, cc.v2(0, -distance));\r\n        let reMoveSelf = cc.removeSelf();\r\n        let sequence = cc.sequence(moveBy, reMoveSelf);\r\n        bullet.runAction(sequence);\r\n    }\r\n}\r\n"]}